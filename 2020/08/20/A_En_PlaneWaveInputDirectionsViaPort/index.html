<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Direction in port-Plane wave input via port in COMSOL | Zhaohua Tian's Web</title><meta name="author" content="Zhaohua Tian"><meta name="copyright" content="Zhaohua Tian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Direction of input wave via port in COMSOL[TOC] IntroductionIn COMSOL5.1, when we need input the plane wave from port, we need set the field expressions and the phase factors manually. In COMSOL 5.4,">
<meta property="og:type" content="article">
<meta property="og:title" content="Direction in port-Plane wave input via port in COMSOL">
<meta property="og:url" content="https://knifelees3.github.io/2020/08/20/A_En_PlaneWaveInputDirectionsViaPort/index.html">
<meta property="og:site_name" content="Zhaohua Tian&#39;s Web">
<meta property="og:description" content="Direction of input wave via port in COMSOL[TOC] IntroductionIn COMSOL5.1, when we need input the plane wave from port, we need set the field expressions and the phase factors manually. In COMSOL 5.4,">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/InputDirections.png">
<meta property="article:published_time" content="2020-08-20T04:00:30.000Z">
<meta property="article:modified_time" content="2022-08-16T14:25:42.229Z">
<meta property="article:author" content="Zhaohua Tian">
<meta property="article:tag" content="COMSOL">
<meta property="article:tag" content="Physics">
<meta property="article:tag" content="Simulation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/InputDirections.png"><link rel="shortcut icon" href="/upload/ket.png"><link rel="canonical" href="https://knifelees3.github.io/2020/08/20/A_En_PlaneWaveInputDirectionsViaPort/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c4710045c846acddf6f6813e3d1fa3e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Direction in port-Plane wave input via port in COMSOL',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-08-16 22:25:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/upload/ket.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">101</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/academatic/"><span> Academic</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/InputDirections.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Zhaohua Tian's Web"><span class="site-name">Zhaohua Tian's Web</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/academatic/"><span> Academic</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Direction in port-Plane wave input via port in COMSOL</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-08-20T04:00:30.000Z" title="Created 2020-08-20 12:00:30">2020-08-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-08-16T14:25:42.229Z" title="Updated 2022-08-16 22:25:42">2022-08-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">956</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>5min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Direction in port-Plane wave input via port in COMSOL"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Direction-of-input-wave-via-port-in-COMSOL"><a href="#Direction-of-input-wave-via-port-in-COMSOL" class="headerlink" title="Direction of input wave via port in COMSOL"></a>Direction of input wave via port in COMSOL</h1><p>[TOC]</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In COMSOL5.1, when we need input the plane wave from port, we need set the field expressions and the phase factors manually. In COMSOL 5.4, the evaluation angel $\alpha<em>{1}$ and azimuthal angle $\alpha</em>{2}$ are introduced  to help us define the input angle. However, the definition of the angle combined with the field is not so easy. I spend a lot of time to learn and test the angle and then finally obtain the proper way to define the plane wave input directions via port.</p>
<h2 id="The-simulation-problem"><a href="#The-simulation-problem" class="headerlink" title="The simulation problem"></a>The simulation problem</h2><p>I follow the example from COMSOL’s library:</p>
<p> <code>Wave Optics Model &gt;Optical Scattering&gt;Scatterer on Substrate</code></p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200219233353919_15347.png" alt=""><br>This example analyze the scattering of light by a gold objects on a substrate. A TE polarized light input from z to -z. The most important part is the background field simulations. The background field $E_{b}$ in this example is defined as the field when the gold object is absent. This can be done via two port and four periodic conditions. One port is used to excite the plane wave and the other one is to match the output of the plane waves. Periodic conditions can let the simulation perpendicular to the z infinite. We can also use PML instead but the periodic conditions are better.</p>
<p>The setting in COMSOL5.1 is as follows</p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200219234633713_10470.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200219234653754_10657.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200219234714704_25960.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200219234744588_8538.png" alt=""></p>
<p>we can see that we need specify the wavevector $k<em>{x},k</em>{y},k<em>{z}$ and the field expressions $E=(E</em>{x},E<em>{y},E</em>{z})e^{-i\vec{k}\cdot \vec{r}}$ .  </p>
<p>In COMSOL 5.4, we introduce the new evaluation angle $\alpha<em>{1}$ and azimuthal angle $\alpha</em>{2}$  to define the input directions.</p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/image-20200820110553736.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/image-20200820111132558.png" alt=""></p>
<p>Then we only need specify the field amplitude in ports and the propagation directions can be obtained from $\alpha<em>{1},\alpha</em>{2}$.  The problem lies in the settings of field amplitude to match the input directions especially when we want to input a p polarized light or s polarized light or circular polarized light. This is the main point of this note!</p>
<h2 id="Explanation-of-the-incident-angle"><a href="#Explanation-of-the-incident-angle" class="headerlink" title="Explanation of the incident angle"></a>Explanation of the incident angle</h2><p>I searched on the internet to find useful information about the input direction settings, for example</p>
<p><a target="_blank" rel="noopener" href="https://www.comsol.com/blogs/modeling-electromagnetic-waves-periodic-structures/">https://www.comsol.com/blogs/modeling-electromagnetic-waves-periodic-structures/</a></p>
<p>But there is still little useful information. I finally found that we can plot the input wavevector $k<em>{\text{incident}}$ and mode vector $k</em>{\text{mode}}$ which can help us understand the input directions in port.</p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/COMSOLScreenShot.png" alt=""></p>
<p>As is shown in above figure. The light input from z to -z and $\alpha<em>{1}=0,\alpha</em>{2}=50^{o}$. The blue arrows show the input wavevector $k<em>{\text{incident}}$ which points into the interior of the simulation domain. However, the mode wavevector $k</em>{\text{mode}}$ which indicates the field’s default wavevector directions on the port points to negative z direction. This is because the normal vector of the port points out the simulation domain and the default wavevector will also point out.</p>
<p>How we define the angle? What is the definition of $\alpha<em>{1},\alpha</em>{2}$? To let it more clear I will show you if you want to define a p polarized light input, how you set the field amplitudes.</p>
<p><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/InputDirections.png" alt=""></p>
<p>In the port definitions. We introduce a coordinate formed by $(a<em>{1},a</em>{2},n)$ as is shown in Figure (a) above. They satisfy</p>
<script type="math/tex; mode=display">
n=a_{1}\times a_{2}</script><ul>
<li>$\alpha<em>{1}$ is the angle between incident $k</em>{\text{incident}}$ and the minus normal vector $-n$. And $0&lt;\alpha_{1}&lt;=\pi/2$.</li>
<li>$\alpha<em>{2}$ is the angle between incident $k</em>{\text{incident}}\sin(\alpha<em>{1})$ (its projection in x-y plane) and the minus normal vector $a</em>{1}$. And $0&lt;\alpha<em>{2}&lt;=2\pi$. The positive direction of $\alpha</em>{2}$ is the angle points to $a_{2}$.</li>
<li>The mode wavevector $k<em>{\text{mode}}$ is the wavevector has a angle $\alpha</em>{1}$ with $n$ and a angle $\alpha<em>{2}$ with $k</em>{\text{incident}}sin(\alpha_{1})$ too.</li>
<li>If the light input from  $z$ to $-z$, $a<em>{1}$ points positive x and $a</em>{2}$ points positive $y$. $n$ points negative $z$.</li>
<li>If the light input from $-z$ to $z$, $a<em>{2}$ points positive x and $a</em>{1}$ points positive $y$. $n$ points negative $z$.</li>
<li>The field should be defined according to the mode wavevector on the port.</li>
</ul>
<h3 id="Input-from-z-to-z"><a href="#Input-from-z-to-z" class="headerlink" title="Input from z to -z"></a>Input from z to -z</h3><p>Then if we want to define a p polarized light input from z to -z. The incident wavevector is</p>
<script type="math/tex; mode=display">
k_{\text{incident}}=k(\sin(\alpha_{1})\cos(\alpha_{2}),\sin(\alpha_{1})\sin(\alpha_{2}),-\cos(\alpha_{1}))</script><p>the corresponding mode vector is</p>
<script type="math/tex; mode=display">
k_{\text{mode}}=k(\sin(\alpha_{1})\cos(\alpha_{2}),\sin(\alpha_{1})\sin(\alpha_{2}),\cos(\alpha_{1}))</script><p>and the field amplitude should be defined according to $k_{\text{incident}}$. Then</p>
<script type="math/tex; mode=display">
E=E_{0}(-\cos(\alpha_{1})\cos(\alpha_{2}),-\cos(\alpha_{1})\sin(\alpha_{2}),\sin(\alpha_{1}))</script><h3 id="Input-from-z-to-z-1"><a href="#Input-from-z-to-z-1" class="headerlink" title="Input from -z to z"></a>Input from -z to z</h3><p>And if we want to define a p polarized light input from -z to z. The incident wavevector is</p>
<script type="math/tex; mode=display">
k_{\text{incident}}=k(\sin(\alpha_{1})\sin(\alpha_{2}),\sin(\alpha_{1})\cos(\alpha_{2}),\cos(\alpha_{1}))</script><p>the corresponding mode vector is</p>
<script type="math/tex; mode=display">
k_{\text{mode}}=k(\sin(\alpha_{1})\sin(\alpha_{2}),\sin(\alpha_{1})\cos(\alpha_{2}),-\cos(\alpha_{1}))</script><p>and the field amplitude should be defined according to $k_{\text{incident}}$. Then</p>
<script type="math/tex; mode=display">
E=E_{0}(\cos(\alpha_{1})\sin(\alpha_{2}),\cos(\alpha_{1})\cos(\alpha_{2}),\sin(\alpha_{1}))</script><p>These definitions let our electric field be p polarized light. If we make some small errors on the sign, the results will be different.</p>
<p>I verify this settings according to the theoretical background settings. </p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://knifelees3.github.io">Zhaohua Tian</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://knifelees3.github.io/2020/08/20/A_En_PlaneWaveInputDirectionsViaPort/">https://knifelees3.github.io/2020/08/20/A_En_PlaneWaveInputDirectionsViaPort/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/COMSOL/">COMSOL</a><a class="post-meta__tags" href="/tags/Physics/">Physics</a><a class="post-meta__tags" href="/tags/Simulation/">Simulation</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/InputDirections.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/10/09/C_%E6%95%99%E7%A8%8B_Python-MATLAB-Mathematica%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%8D%E5%90%8C/" title="MATLAB与Python,Mathematica由高维转化一维矩阵的方式的不同点"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/icons/PythonICON.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">MATLAB与Python,Mathematica由高维转化一维矩阵的方式的不同点</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/20/A_En__Plane-Wave-Transmission-and-Its-Relization-in-COMSOL/" title="Plane wave's transmission in a substate structure and its theoretical realization in COMSOL"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200220133639360_19041.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Plane wave's transmission in a substate structure and its theoretical realization in COMSOL</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2020/08/20/A_En__Plane-Wave-Transmission-and-Its-Relization-in-COMSOL/" title="Plane wave&#39;s transmission in a substate structure and its theoretical realization in COMSOL"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200220133639360_19041.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-20</div><div class="title">Plane wave&#39;s transmission in a substate structure and its theoretical realization in COMSOL</div></div></a></div><div><a href="/2020/07/06/A_En-COMSOL-Installation/" title="Installation of COMSOL"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/icons/COMSOLICON.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-06</div><div class="title">Installation of COMSOL</div></div></a></div><div><a href="/2020/07/06/A_En-COMSOL-Use-on-Server/" title="How to use COMSOL on server"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/icons/COMSOLICON.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-06</div><div class="title">How to use COMSOL on server</div></div></a></div><div><a href="/2019/07/06/A_En_How_To_Use_COMSOL_LiveLink_With_MATLAB/" title="How to use COMSOL, MATLAB and COMSOL livelink with MATLAB on Server"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/icons/COMSOLICON.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-07-06</div><div class="title">How to use COMSOL, MATLAB and COMSOL livelink with MATLAB on Server</div></div></a></div><div><a href="/2020/07/06/A_En_Local-COMSOL-ProblemList&Solutions/" title="COMSOL Problem List and Solutions"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/icons/COMSOLICON.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-06</div><div class="title">COMSOL Problem List and Solutions</div></div></a></div><div><a href="/2020/02/21/C_%E6%95%99%E7%A8%8B-%E4%BB%8ECOMSOL%E7%9A%84log%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E8%BF%90%E7%AE%97%E6%97%B6%E9%97%B4%E5%92%8C%E5%86%85%E5%AD%98/" title="从COMSOL的log文件读取运算时间和内存并绘图"><img class="cover" src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/20200221-simulation-time-memory.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-02-21</div><div class="title">从COMSOL的log文件读取运算时间和内存并绘图</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/upload/ket.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zhaohua Tian</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">101</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://www.zhihu.com/people/knife-lee-94"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">ZhaohuaTian's personal blog/个人小站</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Direction-of-input-wave-via-port-in-COMSOL"><span class="toc-number">1.</span> <span class="toc-text">Direction of input wave via port in COMSOL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-simulation-problem"><span class="toc-number">1.2.</span> <span class="toc-text">The simulation problem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Explanation-of-the-incident-angle"><span class="toc-number">1.3.</span> <span class="toc-text">Explanation of the incident angle</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-from-z-to-z"><span class="toc-number">1.3.1.</span> <span class="toc-text">Input from z to -z</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-from-z-to-z-1"><span class="toc-number">1.3.2.</span> <span class="toc-text">Input from -z to z</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/14/E_%E7%89%A9%E7%90%86_%E9%9D%9E%E6%AD%A3%E4%BA%A4%E5%9F%BA%E7%9F%A2%E5%B1%95%E5%BC%80%E7%9A%84%E6%96%B9%E6%B3%95/" title="如何正确使用非正交基矢展开某个矢量"><img src="https://en.wikipedia.org/wiki/File:Orthogonality_and_rotation.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何正确使用非正交基矢展开某个矢量"/></a><div class="content"><a class="title" href="/2025/09/14/E_%E7%89%A9%E7%90%86_%E9%9D%9E%E6%AD%A3%E4%BA%A4%E5%9F%BA%E7%9F%A2%E5%B1%95%E5%BC%80%E7%9A%84%E6%96%B9%E6%B3%95/" title="如何正确使用非正交基矢展开某个矢量">如何正确使用非正交基矢展开某个矢量</a><time datetime="2025-09-14T05:15:30.000Z" title="Created 2025-09-14 13:15:30">2025-09-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/15/E_%E7%89%A9%E7%90%86_20YearsNanoOptics/" title="Sympoisum 20 Years Nano Optics Pioneer Interview Collections"><img src="https://mpl.mpg.de/fileadmin/_processed_/0/5/csm_MPL_Vahid_Sandoghdar_SCT_1343_4da3fea24f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Sympoisum 20 Years Nano Optics Pioneer Interview Collections"/></a><div class="content"><a class="title" href="/2025/02/15/E_%E7%89%A9%E7%90%86_20YearsNanoOptics/" title="Sympoisum 20 Years Nano Optics Pioneer Interview Collections">Sympoisum 20 Years Nano Optics Pioneer Interview Collections</a><time datetime="2025-02-15T15:32:30.000Z" title="Created 2025-02-15 23:32:30">2025-02-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/17/E_%E7%89%A9%E7%90%86_%E6%97%8B%E8%BD%ACFrame%E4%B8%8B%E5%93%88%E5%AF%86%E9%A1%BF%E9%87%8F%E7%9A%84%E8%A1%A8%E7%A4%BA/" title="旋转Frame下哈密顿量的表示"><img src="https://ars.els-cdn.com/content/image/1-s2.0-S1470180402800037-gr2.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="旋转Frame下哈密顿量的表示"/></a><div class="content"><a class="title" href="/2025/01/17/E_%E7%89%A9%E7%90%86_%E6%97%8B%E8%BD%ACFrame%E4%B8%8B%E5%93%88%E5%AF%86%E9%A1%BF%E9%87%8F%E7%9A%84%E8%A1%A8%E7%A4%BA/" title="旋转Frame下哈密顿量的表示">旋转Frame下哈密顿量的表示</a><time datetime="2025-01-17T12:29:30.000Z" title="Created 2025-01-17 20:29:30">2025-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/28/E_%E7%89%A9%E7%90%86_%E5%B8%B8%E8%A7%81%E5%8D%95%E5%85%89%E5%AD%90%E6%BA%90%E7%A7%8D%E7%B1%BB/" title="典型单光子源以及光子波形"><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picblog/Snipaste_2025-02-12_00-04-09.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="典型单光子源以及光子波形"/></a><div class="content"><a class="title" href="/2024/10/28/E_%E7%89%A9%E7%90%86_%E5%B8%B8%E8%A7%81%E5%8D%95%E5%85%89%E5%AD%90%E6%BA%90%E7%A7%8D%E7%B1%BB/" title="典型单光子源以及光子波形">典型单光子源以及光子波形</a><time datetime="2024-10-28T14:28:30.000Z" title="Created 2024-10-28 22:28:30">2024-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/05/E_%E7%89%A9%E7%90%86_%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E7%A7%91%E7%A0%94%E4%B8%AD%E7%9A%84%E9%94%99%E8%AF%AF/" title="如何减少科研中的错误"><img src="https://raw.githubusercontent.com/knifelees3/my_pictures/master/picgoup/WrittingFigures.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何减少科研中的错误"/></a><div class="content"><a class="title" href="/2024/09/05/E_%E7%89%A9%E7%90%86_%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E7%A7%91%E7%A0%94%E4%B8%AD%E7%9A%84%E9%94%99%E8%AF%AF/" title="如何减少科研中的错误">如何减少科研中的错误</a><time datetime="2024-09-05T01:26:30.000Z" title="Created 2024-09-05 09:26:30">2024-09-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Zhaohua Tian</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'jR8sBuhmF2OQvpAqh8LWCbt1-gzGzoHsz',
      appKey: '2C5ChxH3zGFNoQ8rO7u9I2Lb',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>